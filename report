## 1) 数据加载与清洗问题及处理

- **时间格式不统一**：`events.timestamp` 为 `YYYY/M/D HH:MM`（含`/`或者可能一位数月日），SQLite/Pandas 的 `date()`/解析不总能直接识别。**处理**：用 `pd.to_datetime(errors='coerce')`；在 SQL 中用 `substr/printf` 解析并标准化为 `YYYY-MM-DD`。
- **注册日期**：`signup_date` 可能存在少量无法解析值，我们统一将转为 `NaT`，在后续计算注册天数时跳过。
- **性别**：可能存在大小写不统一，性别描述方式不一致的问题。**处理**：统一处理为三种类别 `Male/Female/Other`，缺失记为 `Unknown`。
- **年龄异常**：小于0或大于100 的极值设为 `NaN`，避免直方图和建模受噪声影响。
- **重复ID/空值**：按照 `user_id` 去重；关键字段缺失时用空值处理或在特征构造中置零。

## 2) 与活跃度相关的特征
- **总事件数**（属于强相关，直接用于“高活跃”定义）。
- **事件类型比例**（如 view/click/purchase 等占比，反映用户的行为结构；多样性可用**熵**衡量。但可能会被logout，login这种常用功能影响，我们分析时需要考虑这些因素）。
- **注册天数**（存量用户更可能累积更多事件，我们需考虑注册天数的影响，但也要与“最近行为”配合）。
- **最近一次事件距今天数**、近7事件频次都与用户活跃度有关。
- **年龄、性别**（为次要因素，可能与偏好/场景交互有关）。

## 3) 建模效果与改进
-总体结论
表观效果很好：测试集 accuracy≈0.97、高活跃precision=1.00、recall=0.89、F1=0.94。
但结果“好”的主要原因可能是把**“总事件数”既作为特征，又用它的分位数来定义标签**高活跃。所以模型几乎只要学到 “total_events高转换成高活跃” 就能取得很高分。因此当前分数不能代表真实泛化能力。
比例特征中click_ad、purchase 为正相关；view_content、logout 为负相关。
days_since_signup 正但较小，对于注册时间久略有帮助。
gender_Male 略正，gender_Other 负，幅度都不大，性别属性影响小于行为特征。
age近乎 0：年龄与活跃度关系很弱。
- **改进方向**：
  实验数据用时间先后切，早期做训练，后期做测试，并且需要做滚动验证，来看稳定性。还可以考虑模型替代，比如用LightGBM / XGBoost来捕捉非线性与特征交互。

## 4) 若为真实商业场景，建议补充的数据与问题。
- **渠道与触点**：注册来源（广告/自然/渠道码）、活动曝光与点击、推送/邮件触达与打开。
- **产品环境**：设备/系统/APP版本、使用时段（高峰/离线）。
- **价值信号**：订单和付费情况、订阅计划、退款、续费、留存率、流失标记。
- **社交与内容**：业务内容类别偏好、推荐位曝光、用户搜索与收藏数量、用户分享与受邀关系。
- **运营服务质量**：客服、工单、故障告警，系统崩溃与卡顿日志。
- **还想知道的问题**：
  - 高活跃用户的核心路径是什么？
  - 哪些拉新、召回、留存策略最有效？
  - 高活跃是否与产生的价值一致？或者如何定义“好”的活跃？
